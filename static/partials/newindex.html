<h3>Create New Fulltext Index</h3>

<div ng-show="errorMessage" class="alert alert-danger">
        <span class="label label-danger">Error</span> {{errorMessage}}
</div>

<form class="form-horizontal" role="form">
	<div class="form-group">
		<label for="inputName" class="col-sm-2 control-label">Name</label>
		<div class="col-sm-10">
			<input ng-model="indexName" type="text" class="form-control" id="inputName" placeholder="Name">
		</div>
	</div>
	<div class="form-group">
		<label for="inputBucket" class="col-sm-2 control-label">Bucket</label>
		<div class="col-sm-10">
			<select ng-model="indexBucket" id="inputBucket" class="form-control">
				<option ng-repeat="bucket in buckets">{{bucket}}</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<label for="inputNone" class="col-sm-2 control-label">Schema</label>
		<div class="col-sm-10">
			<table class="table">
				<thead>
					<tr>
						<th style="width: 35%">Name</th>
						<th style="width: 35%">Path</th>
						<th style="width: 15%">Analyzer</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="(fn, field) in fields">
						<td>{{fn}}</td>
						<td>{{field.path}}</td>
						<td>{{field.analyzer}}</td>
						<td><button type="button" class="btn btn-default pull-right" ng-click="removeField(fn)"><span class="glyphicon glyphicon-remove"></span></button></td>
					</tr>
					<tr>
						<td><input ng-model="fieldName" type="text" id="inputFieldName" class="form-control" placeholder="Field Name"></td>
						<td><input ng-model="fieldPath" type="text" id="inputFieldPath" class="form-control" placeholder="Field JSON Path"></td>
						<td>			
							<select ng-model="fieldAnalyzer" id="inputFieldAnalyzer" class="form-control">
								<option value="">Field Analyzer</option>
								<option>standard</option>
							</select>
						</td>
						<td><button type="button" class="btn btn-default pull-right" ng-click="addField()">Add Field</button></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-10">
			<button type="submit" class="btn btn-primary" ng-click="createIndex()">Create</button>
		</div>
	</div>
</form>